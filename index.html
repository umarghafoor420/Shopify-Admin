<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Shopify Admin - Final Responsive & Animated</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M150 150 L150 100 A 100 100 0 0 1 362 100 L362 150' fill='none' stroke='%2395BF47' stroke-width='40'/%3E%3Cpath d='M64 150 L448 150 L480 480 L32 480 Z' fill='%2395BF47'/%3E%3Cpath d='M256 380 C 200 380 180 350 180 330 L 220 330 C 220 340 230 350 256 350 C 280 350 280 330 256 320 L 230 310 C 180 290 180 240 230 220 L 230 200 L 282 200 L 282 220 C 320 220 340 250 340 270 L 300 270 C 300 260 290 250 256 250 C 230 250 230 270 256 280 L 282 290 C 332 310 332 360 282 380 L 282 400 L 230 400 L 230 380 Z' fill='white'/%3E%3C/svg%3E">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* === CORE STYLES === */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background-color: #f1f1f1; color: #303030; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* === ANIMATIONS === */
        @keyframes drawLine { from { stroke-dashoffset: 2000; } to { stroke-dashoffset: 0; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .animate-text { animation: fadeIn 0.3s ease-out; }
        .animated-path { stroke-dasharray: 2000; stroke-dashoffset: 0; transition: d 1s ease-in-out; }
        .animate-card { animation: fadeIn 0.5s ease-out forwards; opacity: 0; }
        .grid-4 .card:nth-child(1) { animation-delay: 0.1s; } .grid-4 .card:nth-child(2) { animation-delay: 0.15s; }
        .grid-4 .card:nth-child(3) { animation-delay: 0.2s; } .grid-4 .card:nth-child(4) { animation-delay: 0.25s; }

        /* === HEADER === */
        .site-header { height: 56px; background-color: #1a1c1d; color: #e3e4e5; display: flex; align-items: center; justify-content: space-between; padding: 0 12px; position: fixed; top: 0; left: 0; right: 0; z-index: 50; }
        .header-left { display: flex; align-items: center; gap: 12px; }
        .menu-toggle { display: none; cursor: pointer; color: #e3e4e5; }
        .custom-logo { height: 32px; width: auto; object-fit: contain; }
        .header-center { flex: 1; display: flex; justify-content: center; padding: 0 20px; }
        
        /* Search Bar */
        .search-bar-container { 
            position: relative; width: 100%; max-width: 500px; 
            background-color: #303030; border: 1px solid #4a4a4a; 
            border-radius: 8px; height: 32px; display: flex; 
            align-items: center; padding: 0 8px; transition: border-color 0.2s; 
        }
        .search-bar-container:focus-within { border-color: #858585; background-color: #303030; }
        .search-icon-left { color: #9a9a9a; margin-right: 8px; }
        .search-input { background: transparent; border: none; color: #e3e4e5; font-size: 13px; outline: none; flex: 1; height: 100%; padding: 0; }
        .search-input::placeholder { color: #9a9a9a; }
        .search-shortcut { display: flex; align-items: center; gap: 4px; }
        .kbd-key { background: #454545; border: 1px solid #5a5a5a; border-radius: 4px; color: #c9c9c9; font-size: 10px; font-weight: 600; padding: 2px 5px; font-family: monospace; }

        .header-right { display: flex; align-items: center; gap: 12px; min-width: 0; }
        .icon-btn { padding: 6px; border-radius: 6px; cursor: pointer; display: flex; color: #e3e4e5; flex-shrink: 0; align-items: center; justify-content: center; }
        .icon-btn:hover { background-color: #303030; }
        .profile-container { display: flex; align-items: center; gap: 8px; cursor: pointer; min-width: 0; }
        .profile-badge { background-color: #36fba1; color: #000; font-size: 12px; font-weight: 600; width: 30px; height: 30px; border-radius: 6px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .profile-name { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100px; color: #e3e4e5; }

        /* === LAYOUT === */
        .app-container { display: flex; flex: 1; margin-top: 56px; height: calc(100vh - 56px); position: relative; }
        .sidebar { width: 240px; background-color: #ebebeb; border-right: 1px solid #d4d4d4; display: flex; flex-direction: column; overflow-y: auto; flex-shrink: 0; transition: transform 0.3s ease; }
        
        .nav-item { display: flex; align-items: center; justify-content: space-between; padding: 6px 12px; margin: 2px 8px; border-radius: 8px; font-size: 14px; font-weight: 500; color: #5c5f62; cursor: pointer; text-decoration: none; }
        .nav-item-left { display: flex; align-items: center; gap: 10px; }
        .nav-item:hover { background-color: #e1e1e1; color: #1a1c1d; }
        .nav-item.active { background-color: #ffffff; color: #1a1c1d; font-weight: 600; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .nav-arrow { color: #8c9196; visibility: hidden; }
        .nav-item:hover .nav-arrow, .nav-item.active .nav-arrow { visibility: visible; }
        
        /* === SUBMENU ANIMATION === */
        .nav-sub-menu { 
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out, opacity 0.4s ease-in-out;
            opacity: 0;
        }
        .nav-group.active .nav-sub-menu { 
            max-height: 100px; /* Enough height for 2 items */
            opacity: 1;
            padding-bottom: 4px;
        }
        
        .nav-sub-item { display: block; padding: 6px 12px 6px 44px; margin: 0 8px; border-radius: 8px; font-size: 13px; color: #5c5f62; text-decoration: none; font-weight: 400; }
        .nav-sub-item:hover { color: #1a1c1d; background-color: #e1e1e1; }
        
        .store-selector { padding: 12px 16px; display: flex; align-items: center; justify-content: space-between; font-weight: 600; font-size: 14px; color: #1a1c1d; cursor: pointer; }
        .sidebar-footer { margin-top: auto; padding-bottom: 16px; border-top: 1px solid #d4d4d4; padding-top: 12px; }

        /* === CONTENT === */
        .main-content-area { flex: 1; overflow-y: auto; padding: 16px; scroll-behavior: smooth; }
        .page-section { display: none; }
        .page-section.active { display: block; animation: fadeIn 0.3s ease-out; }
        
        /* Header */
        .analytics-top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; width: 100%; }
        .analytics-title-group { display: flex; align-items: baseline; gap: 12px; }
        .page-title { font-size: 20px; font-weight: 700; color: #1a1c1d; margin: 0; display: flex; align-items: center; gap: 8px; }
        .last-refreshed { font-size: 12px; color: #616161; font-weight: 400; margin-left: 8px;}
        .header-actions { display: flex; gap: 8px; align-items: center; margin-left: auto; }
        .header-icon-btn { width: 32px; height: 32px; background: #e4e5e7; border: none; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #303030; }
        .header-icon-btn:hover { background: #d4d6d8; }
        .btn-black { background: #303030; color: white; border: none; border-radius: 8px; padding: 0 16px; height: 32px; font-size: 13px; font-weight: 600; cursor: pointer; display: flex; align-items: center; }
        
        /* Filters */
        .filters-row { display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap; }
        .dropdown { position: relative; display: inline-block; }
        .btn-filter { background: white; border: 1px solid #babfc3; border-radius: 8px; padding: 0 12px; height: 32px; font-size: 13px; font-weight: 500; color: #303030; cursor: pointer; display: flex; align-items: center; gap: 8px; box-shadow: 0 1px 0 rgba(0,0,0,0.05); transition: background 0.1s; }
        .btn-filter:hover { background-color: #f6f6f7; }
        .dropdown-content { display: none; position: absolute; top: 105%; left: 0; background-color: #ffffff; min-width: 180px; box-shadow: 0px 4px 12px rgba(0,0,0,0.15); border-radius: 8px; border: 1px solid #e1e3e5; z-index: 100; padding: 6px 0; }
        .dropdown-content.show { display: block; animation: fadeIn 0.1s ease-out; }
        .dropdown-item { padding: 8px 16px; font-size: 13px; color: #303030; cursor: pointer; display: flex; align-items: center; justify-content: space-between; }
        .dropdown-item:hover { background-color: #f1f2f3; }
        .check-icon { opacity: 0; }
        .dropdown-item.selected .check-icon { opacity: 1; color: #008060; }

        /* Cards */
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 16px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px; }
        .grid-sidebar { display: grid; grid-template-columns: 2fr 1fr; gap: 16px; margin-bottom: 16px; }
        .card { background: white; border: 1px solid #e1e3e5; border-radius: 12px; padding: 10px 16px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); display: flex; flex-direction: column; position: relative; }
        .card-min-h { height: 86px; justify-content: space-between; }
        .card-fixed-h { height: 280px; padding: 16px; }
        .card-title { font-size: 13px; font-weight: 600; color: #1a1c1d; border-bottom: 1px dotted #8c9196; display: inline-block; margin-bottom: 4px; cursor: help; }
        .big-number { font-size: 19px; font-weight: 700; color: #1a1c1d; display: flex; align-items: center; gap: 8px; margin-top: 4px; }
        .mini-bar { width: 12px; height: 2px; background-color: #3b82f6; align-self: flex-end; margin-top: auto; }
        .trend-up { color: #008060; font-size: 13px; font-weight: 500; display: flex; align-items: center; gap: 2px; }
        
        /* Charts */
        .chart-container-lg { height: 320px; margin-top: 20px; position: relative; }
        .chart-container { height: 220px; margin-top: 20px; position: relative; }
        .chart-area { margin-left: 60px; height: 100%; position: relative; overflow: hidden; }
        .svg-chart { width: 100%; height: calc(100% - 30px); position: absolute; top: 0; left: 0; overflow: visible; }
        .chart-y-axis { position: absolute; left: 0; top: 0; bottom: 30px; display: flex; flex-direction: column; justify-content: space-between; font-size: 11px; color: #8c9196; }
        .x-axis-labels { position: absolute; bottom: 0; left: 0; right: 0; display: flex; justify-content: space-between; font-size: 11px; color: #8c9196; padding-top: 10px; }
        .grid-lines { position: absolute; top: 0; left: 0; right: 0; bottom: 30px; display: flex; flex-direction: column; justify-content: space-between; }
        .grid-line { width: 100%; height: 1px; background-color: #f1f2f3; }
        
        /* Lists */
        .breakdown-list { list-style: none; margin-top: 12px; }
        .list-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; font-size: 13px; color: #303030; border-bottom: 1px solid #f9f9f9; }
        .text-blue { color: #005bd3; cursor: pointer; } .text-blue:hover { text-decoration: underline; }
        .product-list { margin-top: 12px; overflow-y: auto; }
        .product-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f1f1f1; }
        .product-info { display: flex; align-items: center; gap: 10px; }
        .product-img { width: 36px; height: 36px; background-color: #f1f2f3; border-radius: 6px; border: 1px solid #e1e3e5; }
        .product-name { font-size: 13px; font-weight: 500; color: #005bd3; }
        .product-stat { font-size: 12px; color: #616161; }
        .funnel-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 40px; }
        .funnel-item { display: flex; flex-direction: column; gap: 4px; padding-left: 12px; border-left: 1px solid #e1e3e5; }
        .funnel-item:first-child { border-left: none; padding-left: 0; }
        .table-container { overflow-x: auto; }
        .cohort-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .cohort-table th, .cohort-table td { padding: 10px; text-align: center; }
        .heat-cell { background-color: #ebf5ff; color: #005bd3; border-radius: 4px; }
        .empty-state-container { flex: 1; display: flex; align-items: center; justify-content: center; color: #616161; font-size: 14px; }

        /* Orders & Settings */
        .orders-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .orders-table-card { background: white; border: 1px solid #e1e3e5; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.02); overflow: hidden; }
        .orders-filter-container { padding: 12px 16px; border-bottom: 1px solid #e1e3e5; display: flex; gap: 10px; }
        .orders-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .orders-table th { text-align: left; padding: 12px 16px; border-bottom: 1px solid #e1e3e5; font-weight: 600; color: #616161; background-color: #fafbfb; white-space: nowrap; }
        .orders-table td { padding: 12px 16px; border-bottom: 1px solid #f1f1f1; vertical-align: middle; color: #303030; white-space: nowrap; }
        .badge { display: inline-flex; align-items: center; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 600; gap: 4px; }
        .badge-dot { width: 6px; height: 6px; border-radius: 50%; }
        .badge-success { background-color: #def6e6; color: #005c38; } .badge-success .badge-dot { background-color: #005c38; }
        .badge-warning { background-color: #fff1e1; color: #8a4e0c; } .badge-warning .badge-dot { background-color: #8a4e0c; }
        .badge-paid { background-color: #e4e5e7; color: #303030; border-color: #c9cccf; } .badge-paid .badge-dot { background-color: #5c5f62; }
        
        .settings-grid { display: grid; grid-template-columns: 1fr; gap: 20px; max-width: 600px; margin: 0 auto; }
        .settings-input-group { margin-bottom: 16px; }
        .settings-label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 6px; color: #1a1c1d; }
        .settings-input { width: 100%; padding: 8px 12px; border: 1px solid #babfc3; border-radius: 6px; font-size: 14px; }
        .settings-btn { background: #008060; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 10px; }
        .settings-btn:hover { background: #006e52; }

        @media (max-width: 1024px) {
            .sidebar { width: 60px; } .nav-item-left span, .nav-arrow, .store-selector span, .nav-sub-menu { display: none !important; } .nav-item { justify-content: center; padding: 12px; }
            .grid-4, .grid-sidebar, .grid-3 { grid-template-columns: 1fr 1fr; }
        }
        @media (max-width: 600px) {
            .menu-toggle { display: block; margin-right: 8px; }
            .header-center { display: flex; padding: 0 8px; }
            .profile-name { display: none; }
            .sidebar { position: fixed; top: 56px; left: -100%; width: 85%; z-index: 100; background: white; border-right: 1px solid #ddd; height: calc(100vh - 56px); }
            .sidebar.open { left: 0; }
            .sidebar .nav-item span, .sidebar .store-selector span { display: inline-block; }
            .sidebar .nav-item { justify-content: space-between; padding: 10px 16px; }
            .sidebar .nav-group.active .nav-sub-menu { display: block; }
            .grid-4, .grid-sidebar, .grid-3 { grid-template-columns: 1fr; }
            .funnel-grid { grid-template-columns: 1fr 1fr; gap: 20px; }
            .funnel-item { border-left: none; padding-left: 0; }
            .orders-header { flex-direction: column; align-items: flex-start; gap: 12px; }
            .orders-action-container { width: 100%; justify-content: space-between; }
            .orders-table-card { overflow-x: auto; } .orders-table { min-width: 700px; }
            .header-actions { display: none; }
        }
    </style>
</head>
<body>

    <div style="position:fixed; top:56px; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); z-index:90; display:none;" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <header class="site-header">
        <div class="header-left">
            <div class="menu-toggle" onclick="toggleSidebar()"><i data-lucide="menu" width="24"></i></div>
            <div class="logo-group">
                <img src="logoo.png" alt="Shopify Logo" class="custom-logo">
            </div>
        </div>
        <div class="header-center">
            <div class="search-bar-container">
                <i data-lucide="search" width="16" class="search-icon-left"></i>
                <input type="text" class="search-input" placeholder="Search">
                <div class="search-shortcut">
                    <span class="kbd-key">CTRL</span><span class="kbd-key">K</span>
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="icon-btn">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M.893 3.951c-.06.196-.204.817-.204 1.655-.126.729-.078 1.454-.126 2.712l-.06 1.56c-.096 2.547 1.752 5.313 4.276 5.663 1.938.269 3.904.278 5.844.028l.218-.028c.24-.03.383-.049.509-.072 2.335-.424 4.043-3.002 4.074-5.374.002-.128-.003-.272-.012-.514l-.05-1.288c-.027-.722-.048-1.283-.097-1.75l.006-.142c.03-.65.023-.743-.05-1.17a5.6 5.6 0 0 0-.506-1.518c-.274-.521-.719-1.054-1.407-1.054l-.187-.193c-1.495-1.55-2.192-1.895-5.407-2.209-1.825-.057-2.68.23-3.804.78-1.071.523-2.162 1.245-2.551 1.778-.277.378-.376.838-.466 1.136m9.726.323c.711.067 1.364.129 1.883.05 0 0 .283.783.976 1.479l.224.22c.153.15.285.277.392.407q.025.183.044.412a2.3 2.3 0 0 0-.71-.201c-1.064-.076-1.896.336-2.747.758-.818.405-1.654.82-2.73.82-1.075 0-1.911-.415-2.729-.82-.851-.422-1.683-.834-2.746-.758a2.3 2.3 0 0 0-.686.189c.035-.411.083-.694.165-.943a3.8 3.8 0 0 1 1.178-1.735q.107-.044.223-.079l.413.015c-.05 1.316.268 2.192.46 2.247.156.044.378-.256.672-.654.105-.142.22-.297.344-.453.147-.186.511-.456 1.002-.738.092.668.28 1.08.408 1.116.157.045.379-.256.672-.653.106-.143.22-.298.344-.454q.145-.181.379-.334h.089c.275 0 .577.003.893.005.54.004 1.078.055 1.587.104m-8.657 7.426c.514 1.351 1.617 2.514 2.975 2.702 1.837.255 3.7.264 5.54.027l.197-.026c.266-.034.47-.065.47-.065 1.27-.23 2.299-1.356 2.8-2.64a3 3 0 0 1-.755.3c-.685.17-1.63-.077-2.678-.626-.364-.19-.643-.414-.904-.623-.475-.382-.89-.716-1.655-.716s-1.181.334-1.656.716c-.261.21-.54.433-.904.623-1.048.55-1.992.797-2.678.625a3 3 0 0 1-.752-.297m1.835-1.137a1.244 1.244 0 1 0 0-2.489 1.244 1.244 0 0 0 0 2.489m6.9-1.245a1.245 1.245 0 1 0 2.49 0 1.245 1.245 0 0 0-2.49 0"></path>
                </svg>
            </div>
            <div class="icon-btn"><i data-lucide="bell" width="20"></i></div>
            <div class="profile-container">
                <span class="profile-name">Shahzaman</span>
                <div class="profile-badge">MS</div>
            </div>
        </div>
    </header>

    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="store-selector"><span>My Store</span><i data-lucide="chevrons-up-down" width="16"></i></div>
            <nav style="padding: 8px 0;">
                <div class="nav-group"><a href="#" class="nav-item" onclick="showPage('dashboard', this)"><div class="nav-item-left"><i data-lucide="home" width="20"></i> <span>Home</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item" onclick="showPage('orders', this)"><div class="nav-item-left"><i data-lucide="package" width="20"></i> <span>Orders</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="tag" width="20"></i> <span>Products</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="users" width="20"></i> <span>Customers</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="file-text" width="20"></i> <span>Content</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="bar-chart-2" width="20"></i> <span>Finances</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                
                <div class="nav-group active">
                    <a href="#" class="nav-item active" onclick="showPage('dashboard', this)">
                        <div class="nav-item-left"><i data-lucide="bar-chart-3" width="20"></i> <span>Analytics</span></div>
                        
                    </a>
                    <ul class="nav-sub-menu">
                        <li><a href="#" class="nav-sub-item">Reports</a></li>
                        <li><a href="#" class="nav-sub-item">Live View</a></li>
                    </ul>
                </div>

                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="megaphone" width="20"></i> <span>Marketing</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
                <div class="nav-group"><a href="#" class="nav-item"><div class="nav-item-left"><i data-lucide="percent" width="20"></i> <span>Discounts</span></div><i data-lucide="chevron-right" width="16" class="nav-arrow"></i></a></div>
            </nav>
            <div class="sidebar-footer">
                <a href="#" class="nav-item" onclick="showPage('settings', this)"><div class="nav-item-left"><i data-lucide="settings" width="20"></i> <span>Settings</span></div></a>
            </div>
        </aside>

        <main class="main-content-area">
            
            <div id="dashboard-page" class="page-section active">
                <div class="analytics-top-bar">
                    <div class="analytics-title-group">
                        <i data-lucide="bar-chart-3" width="24" style="color:#1a1c1d;"></i>
                        <h1 class="page-title" style="display:inline;">Analytics</h1>
                        <span id="lastRefreshed" class="last-refreshed">Last refreshed: --:-- AM</span>
                    </div>
                    <div class="header-actions">
                        <button class="header-icon-btn"><i data-lucide="rotate-cw" width="16"></i></button>
                        <button class="header-icon-btn"><i data-lucide="maximize-2" width="16"></i></button>
                        <button class="header-icon-btn"><i data-lucide="pencil" width="16"></i></button>
                        <button class="btn-black">New exploration</button>
                    </div>
                </div>

                <div class="filters-row">
                    <div class="dropdown">
                        <button class="btn-filter" onclick="toggleDropdown()">
                            <div style="display:flex; align-items:center; gap:6px;">
                                <i data-lucide="calendar" width="14"></i> 
                                <span id="dateRangeText">Today</span> 
                            </div>
                            <i data-lucide="chevron-down" width="14"></i>
                        </button>
                        <div id="dateDropdown" class="dropdown-content">
                            <div class="dropdown-item selected" onclick="selectDateRange('today', 'Today')">Today <i data-lucide="check" width="14" class="check-icon"></i></div>
                            <div class="dropdown-item" onclick="selectDateRange('week2', 'Last 2 Weeks')">Last 2 Weeks <i data-lucide="check" width="14" class="check-icon"></i></div>
                            <div class="dropdown-item" onclick="selectDateRange('month1', 'Month to date')">Month to date <i data-lucide="check" width="14" class="check-icon"></i></div>
                        </div>
                    </div>
                    
                    <button class="btn-filter">
                        <i data-lucide="calendar-days" width="14"></i> Dec 29, 2025
                    </button>
                    
                    <button class="btn-filter">
                        <i data-lucide="coins" width="14"></i> PKR Rs
                    </button>
                </div>

                <div class="grid-4">
                    <div class="card card-min-h animate-card"><div><div class="card-title">Gross sales</div><div class="big-number animate-text" id="dash-gross">PKR 12,450.00</div></div><div class="trend-up"><i data-lucide="trending-up" width="14"></i> 12%</div></div>
                    <div class="card card-min-h animate-card"><div><div class="card-title">Returning customer rate</div><div class="big-number animate-text" id="dash-return">15.2%</div></div><div class="trend-up"><i data-lucide="trending-up" width="14"></i> 2%</div></div>
                    <div class="card card-min-h animate-card"><div><div class="card-title">Orders fulfilled</div><div class="big-number animate-text" id="dash-fulfilled">142</div></div><div class="mini-bar"></div></div>
                    <div class="card card-min-h animate-card"><div><div class="card-title">Orders</div><div class="big-number animate-text" id="dash-orders">145</div></div><div class="trend-up"><i data-lucide="trending-up" width="14"></i> 8%</div></div>
                </div>

                <div class="grid-sidebar">
                    <div class="card animate-card" style="min-height: 420px;">
                        <div><div class="card-title">Total sales over time</div><div class="big-number animate-text" style="font-size:28px;" id="dash-main-total">PKR 12,450.00</div></div>
                        <div class="chart-container-lg">
                            <div class="chart-y-axis" id="chartYAxis"><span>PKR 15k</span><span>PKR 10k</span><span>PKR 5k</span><span>0</span></div>
                            <div class="chart-area">
                                <div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
                                <svg class="svg-chart" viewBox="0 0 1000 300" preserveAspectRatio="none">
                                    <path id="chartFill" d="M0 280 C 150 280, 300 150, 500 200 S 850 50, 1000 80 V 300 H 0 Z" fill="rgba(59, 130, 246, 0.1)" stroke="none" />
                                    <path id="chartLine" class="animated-path" d="M0 280 C 150 280, 300 150, 500 200 S 850 50, 1000 80" fill="none" stroke="#3b82f6" stroke-width="3" vector-effect="non-scaling-stroke"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="card animate-card">
                        <div class="card-title">Total sales breakdown</div>
                        <ul class="breakdown-list">
                            <li class="list-item"><span class="text-blue">Gross sales</span><span id="bd-gross">PKR 12,450.00</span></li>
                            <li class="list-item"><span class="text-blue">Discounts</span><span>PKR -50.00</span></li>
                            <li class="list-item"><span class="text-blue">Returns</span><span>PKR -120.00</span></li>
                            <li class="list-item" style="background:#f1f2f3; border-radius:6px; font-weight:500;"><span class="text-blue">Net sales</span><span id="bd-net">PKR 12,280.00</span></li>
                            <li class="list-item"><span class="text-blue">Shipping</span><span>PKR 350.00</span></li>
                            <li class="list-item"><span class="text-blue">Taxes</span><span>PKR 1,200.00</span></li>
                            <li class="list-item" style="border-top:1px solid #e1e3e5; font-weight:700;"><span class="text-blue">Total sales</span><span id="bd-total">PKR 13,830.00</span></li>
                        </ul>
                    </div>
                </div>

                <div class="grid-3">
                    <div class="card card-fixed-h animate-card">
                        <div class="card-title">Total sales by sales channel</div>
                        <ul class="breakdown-list">
                             <li class="list-item"><span>Online Store</span><span>PKR 10,500.00</span></li>
                             <li class="list-item"><span>Facebook Shop</span><span>PKR 1,200.00</span></li>
                             <li class="list-item"><span>Instagram</span><span>PKR 750.00</span></li>
                        </ul>
                    </div>
                    <div class="card card-fixed-h animate-card">
                        <div><div class="card-title">Average order value</div><div class="big-number">PKR 85.20</div></div>
                        <div class="chart-container">
                            <div class="chart-y-axis"><span>PKR 100</span><span>0</span></div>
                            <div class="chart-area">
                                <div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div></div>
                                <svg class="svg-chart" viewBox="0 0 500 150" preserveAspectRatio="none">
                                    <path class="animated-path" d="M0 130 Q 150 140, 250 80 T 500 40" fill="none" stroke="#3b82f6" stroke-width="3" vector-effect="non-scaling-stroke" />
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="card card-fixed-h animate-card" style="overflow-y: hidden;">
                        <div class="card-title">Top Products</div>
                        <ul class="product-list">
                            <li class="product-item"><div class="product-info"><div class="product-img"></div><div><div class="product-name">Leather Wallet</div><div class="product-stat">45 sold</div></div></div><span>PKR 2,250</span></li>
                            <li class="product-item"><div class="product-info"><div class="product-img"></div><div><div class="product-name">Smart Watch</div><div class="product-stat">32 sold</div></div></div><span>PKR 4,800</span></li>
                        </ul>
                    </div>
                </div>

                <div class="grid-3">
                    <div class="card card-fixed-h animate-card">
                        <div><div class="card-title">Sessions</div><div class="big-number">4,250</div></div>
                        <div class="chart-container">
                            <div class="chart-y-axis"><span>5k</span><span>0</span></div>
                            <div class="chart-area"><div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div></div>
                            <svg class="svg-chart" viewBox="0 0 500 150" preserveAspectRatio="none">
                                 <path class="animated-path" d="M0 140 Q 150 120, 300 50 T 500 80" fill="none" stroke="#3b82f6" stroke-width="3" vector-effect="non-scaling-stroke" />
                            </svg></div>
                        </div>
                    </div>
                    <div class="card card-fixed-h animate-card">
                        <div><div class="card-title">Conversion breakdown</div><div class="big-number">3.2%</div></div>
                        <div class="funnel-grid">
                            <div class="funnel-item"><span style="color:#616161">Sessions</span><span class="font-bold">4,250</span></div>
                            <div class="funnel-item"><span style="color:#616161">Cart</span><span class="font-bold">320</span></div>
                            <div class="funnel-item"><span style="color:#616161">Checkout</span><span class="font-bold">180</span></div>
                            <div class="funnel-item"><span style="color:#616161">Converted</span><span class="font-bold">145</span></div>
                        </div>
                    </div>
                    <div class="card card-fixed-h animate-card">
                        <div class="card-title">Top Referrers</div>
                        <ul class="breakdown-list">
                             <li class="list-item"><span>Google Search</span><span>1,850 sessions</span></li>
                             <li class="list-item"><span>Direct</span><span>920 sessions</span></li>
                             <li class="list-item"><span>Instagram</span><span>850 sessions</span></li>
                             <li class="list-item"><span>TikTok</span><span>410 sessions</span></li>
                        </ul>
                    </div>
                </div>

                <div class="grid-sidebar">
                    <div class="card animate-card" style="overflow: hidden;">
                        <div class="card-title">Customer cohort analysis</div>
                        <div class="table-container">
                            <table class="cohort-table">
                                <thead><tr><th>Cohort</th><th>Months</th><th></th><th></th><th></th><th></th><th></th></tr></thead>
                                <tbody>
                                    <tr><td style="padding:12px 4px; color:#616161;">Apr 2025</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td></tr>
                                    <tr><td style="padding:12px 4px; color:#616161;">May 2025</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td class="heat-cell">0%</td><td></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card animate-card">
                        <div class="card-title">Sessions by landing page</div>
                        <ul class="breakdown-list">
                             <li class="list-item"><span>/</span><span>1,200</span></li>
                             <li class="list-item"><span>/products/wallet</span><span>850</span></li>
                             <li class="list-item"><span>/collections/sale</span><span>640</span></li>
                             <li class="list-item"><span>/about-us</span><span>210</span></li>
                        </ul>
                    </div>
                </div>
                
                <div class="grid-3">
                    <div class="card card-fixed-h animate-card"><div class="card-title">Sessions by social referrer</div><ul class="breakdown-list"><li class="list-item"><span>Instagram</span><span>850</span></li><li class="list-item"><span>Facebook</span><span>420</span></li></ul></div>
                    <div class="card card-fixed-h animate-card"><div class="card-title">Total sales by referrer</div><ul class="breakdown-list"><li class="list-item"><span>Google</span><span>PKR 5,200.00</span></li><li class="list-item"><span>Direct</span><span>PKR 3,100.00</span></li></ul></div>
                    <div class="card card-fixed-h animate-card"><div class="card-title">Sales attributed to marketing</div><ul class="breakdown-list"><li class="list-item"><span>Email</span><span>PKR 3,500.00</span></li><li class="list-item"><span>Paid Social</span><span>PKR 2,100.00</span></li></ul></div>
                </div>
            </div>

            <div id="orders-page" class="page-section">
                <div class="orders-header">
                    <h1 class="page-title">Orders</h1>
                    <div class="orders-action-container">
                        <button class="btn-filter">Export</button>
                        <button class="btn-filter" style="background:#303030; color:white; border:none;">Create order</button>
                    </div>
                </div>
                <div class="orders-table-card animate-card">
                    <div class="orders-filter-container">
                        <div class="search-input" style="width:100%; background:white; border-color:#c9cccf; color:#303030; padding:6px 30px;">
                            <i data-lucide="search" width="14" style="position:absolute; left:10px; top:50%; transform:translateY(-50%); color:#5c5f62;"></i> Filter orders
                        </div>
                        <div style="display:flex; gap:8px;">
                            <button class="btn-filter">Saved views</button>
                            <button class="btn-filter">Sort</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="orders-table">
                            <thead><tr><th><input type="checkbox"></th><th>Order</th><th>Date</th><th>Customer</th><th>Total</th><th>Payment</th><th>Fulfillment</th><th>Items</th></tr></thead>
                            <tbody id="ordersTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="settings-page" class="page-section">
                <div class="analytics-header">
                    <h1 class="page-title">Settings</h1>
                </div>
                <div class="settings-grid">
                    <div class="card">
                        <h3>Dashboard Values</h3>
                        <div class="settings-input-group" style="margin-top:10px;"><label class="settings-label">Gross Sales</label><input type="text" id="inputGross" class="settings-input" value="PKR 12,450.00"></div>
                        <div class="settings-input-group"><label class="settings-label">Returns</label><input type="text" id="inputReturn" class="settings-input" value="15.2%"></div>
                        <div class="settings-input-group"><label class="settings-label">Fulfilled</label><input type="text" id="inputFulfilled" class="settings-input" value="142"></div>
                        <div class="settings-input-group"><label class="settings-label">Orders</label><input type="text" id="inputTotalOrders" class="settings-input" value="145"></div>
                        <button class="settings-btn" onclick="saveDashboardSettings()">Save Changes</button>
                    </div>
                    <div class="card">
                        <h3>Add Fake Order</h3>
                        <div class="settings-input-group" style="margin-top:10px;"><label class="settings-label">Customer Name</label><input type="text" id="orderName" class="settings-input"></div>
                        <div class="settings-input-group"><label class="settings-label">Amount</label><input type="text" id="orderPrice" class="settings-input"></div>
                        <div class="settings-input-group"><label class="settings-label">Payment</label>
                            <select id="orderStatus" class="settings-input"><option>Paid</option><option>Pending</option></select>
                        </div>
                        <button class="settings-btn" onclick="addFakeOrder()">Add Order</button>
                        <button class="settings-btn" style="background:transparent; color:#d82c0d; border:1px solid #d82c0d; margin-top:8px;" onclick="resetAll()">Reset All Data</button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        lucide.createIcons();

        // --- STATE & DATA ---
        let appData = {
            gross: "PKR 12,450.00",
            returns: "15.2%",
            fulfilled: "142",
            ordersCount: "145",
            ordersList: [] 
        };

        const chartData = {
            today: { path: "M0 280 C 150 280, 300 150, 500 200 S 850 50, 1000 80", fill: "M0 280 C 150 280, 300 150, 500 200 S 850 50, 1000 80 V 300 H 0 Z" },
            week2: { path: "M0 250 C 200 200, 400 50, 600 100 S 800 20, 1000 40", fill: "M0 250 C 200 200, 400 50, 600 100 S 800 20, 1000 40 V 300 H 0 Z" },
            month1: { path: "M0 280 Q 250 250, 500 150 T 1000 10", fill: "M0 280 Q 250 250, 500 150 T 1000 10 V 300 H 0 Z" }
        };

        function initData() {
            // Check for new storage key to force refresh
            const savedData = localStorage.getItem('shopifyCloneDataPKR_Final');
            if (savedData) {
                appData = JSON.parse(savedData);
                if (!appData.ordersList) appData.ordersList = [];
                if (appData.ordersList.length === 0) generateDefaultOrders();
            } else {
                generateDefaultOrders();
            }
            renderAll();
        }

        function generateDefaultOrders() {
            const names = ["Shahzaman", "John Doe", "Sarah Smith", "Mike Ross", "Harvey Specter", "Donna Paulsen", "Louis Litt", "Rachel Zane"];
            for(let i=0; i<15; i++) {
                appData.ordersList.push({
                    id: 1025 - i,
                    date: i === 0 ? "Today at 4:30 pm" : (i === 1 ? "Yesterday" : `Dec ${24 - i}, 2025`),
                    name: names[i % names.length],
                    price: `PKR ${(Math.random() * 5000 + 500).toFixed(2)}`,
                    payment: Math.random() > 0.3 ? 'Paid' : 'Pending',
                    fulfillment: 'Unfulfilled',
                    items: Math.floor(Math.random() * 5) + 1 + " items"
                });
            }
        }

        function saveData() {
            localStorage.setItem('shopifyCloneDataPKR_Final', JSON.stringify(appData));
            renderAll();
        }

        function renderAll() {
            if(document.getElementById('dash-gross')) {
                const currentRangeText = document.getElementById('dateRangeText').innerText;
                if (currentRangeText === "Today") {
                    document.getElementById('dash-gross').innerText = appData.gross;
                    document.getElementById('dash-return').innerText = appData.returns;
                    document.getElementById('dash-fulfilled').innerText = appData.fulfilled;
                    document.getElementById('dash-orders').innerText = appData.ordersCount;
                    document.getElementById('dash-main-total').innerText = appData.gross;
                    document.getElementById('bd-gross').innerText = appData.gross;
                    document.getElementById('bd-net').innerText = appData.gross;
                    document.getElementById('bd-total').innerText = appData.gross;
                }
            }

            if(document.getElementById('inputGross')) {
                document.getElementById('inputGross').value = appData.gross;
                document.getElementById('inputReturn').value = appData.returns;
                document.getElementById('inputFulfilled').value = appData.fulfilled;
                document.getElementById('inputTotalOrders').value = appData.ordersCount;
            }

            const tbody = document.getElementById('ordersTableBody');
            if(tbody) {
                tbody.innerHTML = '';
                appData.ordersList.forEach(order => {
                    const badgeClass = order.payment === 'Paid' ? 'badge-success' : 'badge-warning';
                    const row = `<tr><td><input type="checkbox"></td><td style="font-weight:600;">#${order.id}</td><td>${order.date}</td><td>${order.name}</td><td>${order.price}</td><td><span class="badge ${badgeClass}"><span class="badge-dot"></span> ${order.payment}</span></td><td><span class="badge badge-warning"><span class="badge-dot"></span> ${order.fulfillment}</span></td><td>${order.items}</td></tr>`;
                    tbody.insertAdjacentHTML('beforeend', row);
                });
            }
        }

        function saveDashboardSettings() {
            appData.gross = document.getElementById('inputGross').value;
            appData.returns = document.getElementById('inputReturn').value;
            appData.fulfilled = document.getElementById('inputFulfilled').value;
            appData.ordersCount = document.getElementById('inputTotalOrders').value;
            saveData();
            selectDateRange('today', 'Today'); 
            alert("Dashboard Updated!");
        }

        function addFakeOrder() {
            const name = document.getElementById('orderName').value || "New Customer";
            const price = document.getElementById('orderPrice').value || "PKR 500.00";
            const status = document.getElementById('orderStatus').value;
            
            const newOrder = {
                id: appData.ordersList.length > 0 ? appData.ordersList[0].id + 1 : 1001,
                date: "Just now",
                name: name,
                price: price,
                payment: status,
                fulfillment: "Unfulfilled",
                items: "1 item"
            };
            
            appData.ordersList.unshift(newOrder); 
            let currentCount = parseInt(appData.ordersCount.replace(/,/g, '')) || 0;
            appData.ordersCount = currentCount + 1;
            
            saveData();
            alert("Order Added!");
            showPage('orders', null);
            document.getElementById('orderName').value = "";
            document.getElementById('orderPrice').value = "";
        }

        function resetAll() {
            if(confirm("Reset all data?")) {
                localStorage.removeItem('shopifyCloneDataPKR_Final');
                location.reload();
            }
        }

        function showPage(pageId, element) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId + '-page').classList.add('active');
            
            // Handle sidebar active
            document.querySelectorAll('.nav-group').forEach(g => g.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            if (element) {
                const group = element.closest('.nav-group');
                if(group) group.classList.add('active');
                if(element.classList.contains('nav-item')) element.classList.add('active');
            } else if (pageId === 'orders') {
                const ordersGroup = document.querySelectorAll('.nav-group')[1];
                ordersGroup.classList.add('active');
                ordersGroup.querySelector('.nav-item').classList.add('active');
            }

            if(document.getElementById('sidebar').classList.contains('open')) toggleSidebar();
        }

        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); document.getElementById('sidebarOverlay').classList.toggle('active'); }
        function toggleDropdown() { document.getElementById("dateDropdown").classList.toggle("show"); }
        window.onclick = function(event) { if (!event.target.closest('.dropdown')) document.getElementById("dateDropdown").classList.remove('show'); }

        function selectDateRange(period, label) {
            document.getElementById('dateRangeText').innerText = label;
            document.querySelectorAll('.dropdown-item').forEach(i => i.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            if (period === 'today') {
                renderAll(); 
                const cData = chartData.today;
                document.getElementById('chartLine').setAttribute('d', cData.path);
                document.getElementById('chartFill').setAttribute('d', cData.fill);
            } else {
                const data = { 
                    week2: { gross: "PKR 85,200.00", returns: "12.5%", fulfilled: 850, orders: 890 },
                    month1: { gross: "PKR 180,500.00", returns: "9.8%", fulfilled: 2100, orders: 2150 }
                }[period];
                
                if(data) {
                    document.getElementById('dash-gross').innerText = data.gross;
                    document.getElementById('dash-return').innerText = data.returns;
                    document.getElementById('dash-fulfilled').innerText = data.fulfilled;
                    document.getElementById('dash-orders').innerText = data.orders;
                    document.getElementById('dash-main-total').innerText = data.gross;
                    
                    const cData = chartData[period];
                    document.getElementById('chartLine').setAttribute('d', cData.path);
                    document.getElementById('chartFill').setAttribute('d', cData.fill);
                }
            }
            toggleDropdown();
        }

        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12 || 12;
            document.getElementById('lastRefreshed').innerText = `Last refreshed: ${hours}:${minutes} ${ampm}`;
        }

        initData();
        updateTime();
        setInterval(updateTime, 60000);
    </script>
</body>
</html>
